let objetos = [];
let detectorObjecto;
let img;
let statusText;

function preload() {
  img = loadImage('data:image/jpeg;base64,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');
}

function setup() {
  let canvas = createCanvas(500, 400);
  canvas.center();

  detectorObjecto = ml5.objectDetector('cocossd', modelLoaded);
  
  let count = 0;
  let interval = setInterval(() => {
    let text = 'Carregando.';
    if (count % 3 === 1) {
      text = 'Carregando..';
    } else if (count % 3 === 2) {
      text = 'Carregando...';
    }
    statusText = text;
    document.getElementById('status').innerHTML = text;
    count++;
    if (objetos) {
      clearInterval(interval);
    }
  }, 1000);
}

function gotResult(error, results) {
  if (error) {
    console.error(error); 
  } else {
    objetos = results;
  }
}

function modelLoaded() {
  console.log('Modelo carragedo');
  detectorObjecto.detect(img, gotResult);
}

function draw() {
  if (text != '') {
    // Desenha a imagem carregada
    image(img, 0, 0, width, height);
    for (var index = 0; index < objetos.length; index++) {
      document.getElementById('status').innerHTML = 'Objeto detectado &#127854;'
          noFill();
        rect(objetos[index].x, objetos[index].y, objetos[index].width,objetos[index].height );
        fill(255, 0, 0);
        text(objetos[index].label, objetos[index].x + 2, objetos[index].y + 13);
        fill(255, 0, 0, 50);
    }
  }
}
